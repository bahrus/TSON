<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TSON Demo</title>
    <script src="TSON.js"></script>
</head>
<body>
    <table>
        <tr>
            <td>
                <textarea rows="20" cols="60" id="scriptExample">
var referenceObject = {
    refString: 'originalValue'
};
var stringifyOptions = {
    refs: [function () { return referenceObject; }]
};


var testObject = {
    stringValue: 'mystring',
    numberValue: 54321,
    boolValue: false,
    fnTest: function(a, b, c){
        return a + b - c;
    },
    myRef: referenceObject
}
                </textarea>
            </td>
            <td>
                <button onclick="evalTextBox()">Serialize</button>
            </td>
            <td>
                <textarea rows="20" cols="60" id="result"></textarea>
            </td>
        </tr>
    </table>



    <script>
        function evalTextBox(){
            var scriptExample = document.getElementById('scriptExample');
            eval(scriptExample.value);
            var serializedString = TSON.stringify(testObject, stringifyOptions);
            var resultEl = document.getElementById('result');
            resultEl.value = serializedString;
        }

    </script>
</body>
</html>
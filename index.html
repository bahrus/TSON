<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TSON Demo</title>
    <script src="TSON.js"></script>
</head>
<body>
    <textarea id="scriptExample">
        var referenceObject = {
            refString: 'originalValue'
        };
        var stringifyOptions = {
            refs: [function () { return referenceObject; }]
        };


        var testObject = {
            fnTest: function(a, b, c){
                return a + b - c;
            },
            myRef: referenceObject
        }
    </textarea>
    <button onclick="evalTextBox()">Serialize</button>
    <textarea id="result"></textarea>
    <script>
        function evalTextBox(){
            debugger;
            var scriptExample = document.getElementById('scriptExample');
            eval(scriptExample.value);
            var serializedString = TSON.stringify(testObject, stringifyOptions);
            var resultEl = document.getElementById('result');
            resultEl.value = serializedString;
        }

    </script>
</body>
</html>